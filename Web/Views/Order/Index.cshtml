
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>我的订单</title>
    <link href="~/Content/layui/css/layui.css" rel="stylesheet" />
    <script src="~/Content/layui/layui.js"></script>
</head>
<body>
    <div class="layui-col-md12">
        <div class="layui-card">
            <div class="layui-card-header">我的订单</div>
            <div class="layui-card-body">
                <p>
                    注意：未付款隧道将在下单一小时后释放。
                </p>
                <table class="layui-hide" id="test"></table>
            </div>
        </div>
    </div>
    <script type="text/html" id="barDemo">
        {{# if(d.TradingStatus=="待付款"){ }}
        <a class="layui-btn layui-btn-normal layui-btn-xs" lay-event="operation">付款</a>
        {{# } }}
    </script>
    <script>
layui.use('table', function(){
  var table = layui.table;

  table.render({
    elem: '#test'
    , url: '/Order/OrderJson'
    ,page: { //支持传入 laypage 组件的所有参数（某些参数除外，如：jump/elem） - 详见文档
      layout: ['limit', 'count', 'prev', 'page', 'next', 'skip'] //自定义分页布局
      //,curr: 5 //设定初始在第 5 页
      ,groups: 1 //只显示 1 个连续页码
      ,first: false //不显示首页
      ,last: false //不显示尾页
    }
    ,cols: [[
      { field: 'OrderId', title: '订单编号', sort: true }
      , { field: 'ECSType', title: '订单类型', sort: true }
      , { field: 'Days', title: '购买天数', sort: true }
      , { field: 'Price',title: '付款金额', sort: true }
      , { field: 'CreateTime', title: '下单时间', sort: true }
      , { field: 'PayTime', title: '付款时间', sort: true }
      , { field: 'TradingStatus', title: '订单状态', sort: true }
      , { fixed: 'right', title: '操作', width: 150, align: 'center', toolbar: '#barDemo' } //这里的toolbar值是模板元素的选择器
    ]]

  });
});
    </script>

</body>
</html>
